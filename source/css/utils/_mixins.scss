@use "sass:math";

@function strip-unit($number) {
    @if type-of($number) == "number" and not unitless($number) {
        @return math.div($number, ($number * 0 + 1));
    }

    @return $number;
}

@function pow($x, $n) {
    $ret: 1;
    @if $n >= 0 {
        @for $i from 1 through $n {
            $ret: $ret * $x;
        }
    } @else {
        @for $i from $n to 0 {
            $ret: math.div($ret, $x);
        }
    }
    @return $ret;
}

@function to-fixed($float, $digits: 4) {
    $sass-precision: 5;
    $pow: pow(10, $digits);
    @return math.div(round($float * $pow), $pow);
}

@function str-replace($string, $search, $replace: "") {
    $index: str-index($string, $search);

    @if $index {
        /* stylelint-disable-next-line max-line-length -- sass does not support multiline expressions */
        @return str-slice($string, 1, $index - 1) + $replace + str-replace(str-slice($string, $index + str-length($search)), $search, $replace);
    }

    @return $string;
}

@function grid-percentage($column, $count) {
    @return percentage(math.div($column, $count));
}
